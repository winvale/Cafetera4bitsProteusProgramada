__CONFIG _CP_OFF & _WDT_OFF & _PWRTE_ON & _XT_OSC
INCLUDE <P16F84A.INC>

CBLOCK .12
TINTO
MONEDA
CONTADOR
CONTADOR_1
CONTADOR_2
CONTADOR_3
	
							;VARIABLES
ENDC
ORG .0				;INICIO DE ARRANQUE
GOTO INICIO	

#DEFINE SM	PORTA,1
#DEFINE	SELECT	PORTA,3
#DEFINE	B.ENTER	PORTA,4
#DEFINE SR		PORTB,0

#DEFINE AGUA	PORTB,1
#DEFINE LECHE	PORTB,2
#DEFINE CAFE	PORTB,3

Mensajes
ADDWF	PCL,F

BIENVENIDO
	DT "   BIENVENIDO   ",0X00
SELEC
	DT "SELECCIONE COFEE",0X00
CAFE_NEGRO
	DT "   CAFE NEGRO   ",0X00
CAFE_CON_LECHE
	DT " CAFE CON LECHE ",0X00
CAFE_EN_LECHE
	DT " CAFE EN LECHE  ",0X00
INGRESE_MONEDAS
	DT "INGRESE   MONEDA",0X00
DISPENSANDO_AGUA
	DT "   DISPEN AGUA  ",0X00
DISPENSANDO_CAFE
	DT "   DISPEN CAFE  ",0X00
DISPENSANDO_LECHE
	DT "  DISPEN LECHE  ",0X00
RETIRE_CAFE
	DT "  RETIRE CAFE   ",0X00


INICIO
BSF	STATUS,RP0
BCF	TRISB,1
BCF	TRISB,2
BCF	TRISB,3
BSF	TRISB,0
BSF	TRISA,1
BSF	TRISA,3
BSF	TRISA,4
BCF	STATUS,RP0


;CALL	LCD_Inicializa

PRINCIPAL
BCF	CAFE
BCF	LECHE
BCF	AGUA

CALL	LCD_Inicializa

MOVLW .1
MOVWF	TINTO
MOVLW .0
MOVWF	MONEDA
MOVLW .0
MOVWF	CONTADOR

MOVLW	BIENVENIDO
CALL	LCD_Mensaje


MOVLW	SELEC
CALL	LCD_Mensaje
	
SELECT_1

MOVLW .1
XORWF	TINTO,W
BTFSS	STATUS,Z
GOTO	PREG_TINTO_2


	
#INCLUDE "LCD_MENS.INC"

end